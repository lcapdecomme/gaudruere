CONSOLE_NONE=0;CONSOLE_ERROR=1;CONSOLE_WARN=2;CONSOLE_INFO=3;CONSOLE_DEBUG=4;CONSOLE_LOG=5;CONSOLE_ALL=9;var P=function(a){function b(A){return function(){d!==0&&c&&c[A]&&c[A].apply(c,arguments)}}function e(A,z){return function(){var F=Array.prototype.slice.call(arguments);i.push([A].concat(F));c[A]||(A="log");if(n&&(r||!c||!c.log))n.apply(a,arguments);if(c&&(d>0?d>z:h.length+d<=z))try{if(c[A].apply){F.splice(0,0,p);c[A].apply(c,F)}else m?c[A].call(c,p+" "+F.join(" ")):c[A](p+
" "+F.join(" "))}catch(q){}}}var d=CONSOLE_NONE,c=a.console||{},m=/(iphone|ipad|ipod|android)/.test(navigator.userAgent.toLowerCase()),k={},i=[],n,r,p,h=["error","warn","info","debug","log"],t="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),C=0,o=0,w;c.clear&&c.clear();for(o=t.length;C<o;C++){w=t[C];k[w]=b(w)}C=0;for(o=h.length;C<o;C++){w=h[C];k[w]=e(w,C)}k.getLogs=function(){return i};k.setCallback=function(A,z){n=A;r=
!!z};k.setLevel=function(A){d=Number(A)};k.setPrefix=function(A){p=A};return k}(window);window.debug=P;(function(a){function b(Y,T){var Q=/^\w+\:\/\//,ga;if(typeof Y!=c)Y="";if(typeof T!=c)T="";ga=(Q.test(Y)?"":T)+Y;return(Q.test(ga)?"":ga.charAt(0)==="/"?ca:W)+ga}function e(Y,T){function Q(f,S){if(f[n]&&f[n]!==C&&f[n]!=="loaded"||S[o])return u;f[F]=f[z]=s;return x}function ga(f,S,V){if((V=!!V)||
Q(f,S)){S[o]=x;for(var R in za)if(za[q](R)&&!za[R][o])return;Ab=x;Da()}}function oa(f){if(ba.call(f[p])===j){f[p]();f[p]=s}}function ea(f,S){if(Q(f,S)){S[r]=x;X(function(){E[S[w]].removeChild(f);oa(S)},0)}}function U(f,S){if(f[n]===4){f[z]=l;S[r]=x;X(function(){oa(S)},0)}}function Nb(f,S,V,R,G,da){var Ja=f[w];X(function(){if("item"in E[Ja]){if(!E[Ja][0]){X(arguments.callee,25);return}E[Ja]=E[Ja][0]}var Ea=O.createElement(i);if(typeof V==c)Ea.type=V;if(typeof R==c)Ea.charset=R;if(ba.call(G)===j){Ea[F]=
Ea[z]=function(){G(Ea,f)};Ea.src=S;if(aa)Ea.async=u}E[Ja].insertBefore(Ea,Ja===m?E[Ja].firstChild:s);if(typeof da==c){Ea.text=da;ga(Ea,f,x)}},0)}function Bb(f,S,V,R){I[f[h]]=x;Nb(f,S,V,R,ga)}function ta(f,S,V,R){var G=arguments;if(Fa&&f[r]==s){f[r]=u;Nb(f,S,g,R,ea)}else if(!Fa&&f[r]!=s&&!f[r])f[p]=function(){ta.apply(s,G)};else Fa||Bb.apply(s,G)}function pa(f,S,V,R){var G=arguments,da;if(Fa&&f[r]==s){f[r]=u;da=f.xhr=fa?new fa("Microsoft.XMLHTTP"):new a.XMLHttpRequest;da[z]=function(){U(da,f)};da.open("GET",
S);da.send("")}else if(!Fa&&f[r]!=s&&!f[r])f[p]=function(){pa.apply(s,G)};else if(!Fa){I[f[h]]=x;Nb(f,S,V,R,s,f.xhr.responseText);f.xhr=s}}function ua(f){if(f.allowDup==s)f.allowDup=T.dupe;var S=f.type,V=f.charset,R=f.allowDup;f=b(f.src,Ob);var G=b(f).indexOf(ca)===0;if(typeof V!=c)V=s;R=!!R;if(R=!R){if(!(R=I[f]!=s)){if(!(R=Fa&&za[f]))a:{for(var da=-1;R=H[++da];)if(typeof R.src==c&&f===b(R.src)&&R.type!==g){R=x;break a}R=u}R=R}R=R}if(R)za[f]!=s&&za[f][r]&&!za[f][o]&&G&&ga(s,za[f],x);else{if(za[f]==
s)za[f]={};R=za[f];if(R[w]==s)R[w]=Pb;R[o]=u;R[h]=f;na=x;if(!ub&&Qb&&G)pa(R,f,S,V);else!ub&&dc?ta(R,f,S,V):Bb(R,f,S,V)}}function Xa(f){Y&&!ub&&Cb.push(f);if(!Y||Ka)f()}function Rb(f){var S=[],V;for(V=-1;++V<f.length;)if(ba.call(f[V])===v)S=S.concat(Rb(f[V]));else S[S.length]=f[V];return S}Y=!!Y;if(T==s)T=K;var Ab=u,Ka=Y&&T[t],dc=Ka&&T.cache,ub=Ka&&T.order,Qb=Ka&&T.xhr,uc=T[A],Pb=T.which,Ob=T.base,Da=l,na=u,Db,Fa=x,za={},Cb=[],va=s;Ka=dc||Qb||ub;Db={script:function(){B(va);var f=Rb(arguments),S=Db,
V;if(uc)for(V=-1;++V<f.length;){if(V===0)Xa(function(){ua(typeof f[0]==c?{src:f[0]}:f[0])});else S=S.script(f[V]);S=S.wait()}else Xa(function(){for(V=-1;++V<f.length;)ua(typeof f[V]==c?{src:f[V]}:f[V])});va=X(function(){Fa=u},5);return S},wait:function(f){B(va);Fa=u;ba.call(f)===j||(f=l);var S=e(x,T),V=S.trigger,R=function(){try{f()}catch(da){}V()};delete S.trigger;var G=function(){if(na&&!Ab)Da=R;else R()};Y&&!na?Cb.push(G):Xa(G);return S}};if(Y)Db.trigger=function(){for(var f,S=-1;f=Cb[++S];)f();
Cb=[]};return Db}function d(Y){var T,Q={},ga={UseCachePreload:"cache",UseLocalXHR:"xhr",UsePreloading:t,AlwaysPreserveOrder:A,AllowDuplicates:"dupe"},oa={AppendTo:w,BasePath:"base"};for(T in ga)oa[T]=ga[T];Q.order=!!K.order;for(T in oa)if(oa[q](T)&&K[oa[T]]!=s)Q[oa[T]]=Y[T]!=s?Y[T]:K[oa[T]];for(T in ga)if(ga[q](T))Q[ga[T]]=!!Q[ga[T]];if(!Q[t])Q.cache=Q.order=Q.xhr=u;Q.which=Q.which===m||Q.which===k?Q.which:m;return Q}var c="string",m="head",k="body",i="script",n="readyState",r="preloaddone",p="loadtrigger",
h="srcuri",t="preload",C="complete",o="done",w="which",A="preserve",z="onreadystatechange",F="onload",q="hasOwnProperty",g="script/cache",j="[object Function]",v="[object Array]",s=null,x=true,u=false,O=a.document,fa=a.ActiveXObject,X=a.setTimeout,B=a.clearTimeout,ba=Object.prototype.toString,l=function(){},E={},I={},W=/^[^?#]*\//.exec(a.location.href)[0],ca=/^\w+\:\/\/\/?[^\/]+/.exec(W)[0],H=O.getElementsByTagName(i),L=a.opera&&ba.call(a.opera)=="[object Opera]",J="MozAppearance"in O.documentElement.style,
aa=O.createElement(i).async===true,K={cache:!(J||L),order:J||L||aa,xhr:x,dupe:x,base:"",which:m};K[A]=u;K[t]=x;E[m]=O.head||O.getElementsByTagName(m);E[k]=O.getElementsByTagName(k);a.$LAB={setGlobalDefaults:function(Y){K=d(Y)},setOptions:function(Y){return e(u,d(Y))},script:function(){return e().script.apply(s,arguments)},wait:function(){return e().wait.apply(s,arguments)}};(function(Y,T,Q){if(O[n]==s&&O[Y]){O[n]="loading";O[Y](T,Q=function(){O.removeEventListener(T,Q,u);O[n]=C},u)}})("addEventListener",
"DOMContentLoaded")})(window);
(function(){var a=false,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.MingClass=function(){};MingClass.extend=function(e){function d(){!a&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;a=true;var m=new this;a=false;for(var k in e)m[k]=typeof e[k]=="function"&&typeof c[k]=="function"&&b.test(e[k])?function(i,n){return function(){var r=this._super;this._super=c[i];var p=n.apply(this,arguments);this._super=r;return p}}(k,e[k]):e[k];d.prototype=m;d.constructor=d;d.extend=arguments.callee;
return d}})();XHR=function(){function a(e){try{return JSON.parse(e)}catch(d){return e}}function b(e,d,c,m,k,i){var n=/^(\w+:)?\/\/([^\/?#]+)/.exec(d);n=n&&(n[1]&&n[1].toLowerCase()!==location.protocol||n[2].toLowerCase()!==location.host);var r=window.XDomainRequest&&n?new XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(i==="script"&&e==="GET"&&n){var p=document.getElementsByTagName("head")[0]||
document.documentElement,h=document.createElement("script"),t=false;h.src=d;h.onload=h.onreadystatechange=function(){if(!t&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){t=true;h.onload=h.onreadystatechange=null;p&&h.parentNode&&p.removeChild(h)}};p.insertBefore(h,p.firstChild);return true}r.open(e,d,!!m);if(r.setRequestHeader){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n||r.setRequestHeader("X-Requested-With","XMLHttpRequest")}if(k)r.withCredentials=
true;if(m)r.onreadystatechange=function(){r.readyState===4&&m.call(r,a(r.responseText),r.status)};r.send(c);return m?true:a(r.responseText)}this.get=function(e,d){return b("GET",e,null,d)};this.getWithCredentials=function(e,d){return b("GET",e,null,d,true)};this.getJson=function(e,d){return b("GET",e,null,null,d,"script")};this.post=function(e,d,c){return b("POST",e,d,c)};this.postWithCredentials=function(e,d,c){return b("POST",e,d,c,true)};this.request=b};window.XHR=XHR;ICanHas=function(a,b){return{cors:function(){var e=b.XDomainRequest||b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;if(e){e=new Boolean(e);e.withCredentials=!window.XDomainRequest}return e}(),orientation:window.orientation!==void 0,touch:"ontouchstart"in b,video:function(){var e=
a.createElement("video"),d=!!e.canPlayType;if(d){d=new Boolean(d);d.vp6=e.canPlayType('video/x-flv; codecs="vp6"')||false;d.vp8=e.canPlayType('video/webm; codecs="vp8,vorbis"')||false;d.h264=navigator.userAgent.toLowerCase().search("android")>-1?"probably":e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')||false}return d}()}}(document,window);FlashDetect=function(){var a=navigator,b=false,e=0,d=0,c=0,m=null,k=null;if(a.plugins&&a.plugins.length){if((a=a.plugins["Shockwave Flash"])&&a.description){m=a.description;b=true}}else if(a.mimeTypes&&a.mimeTypes.length){if((a=a.mimeTypes["application/x-shockwave-flash"])&&a.enabledPlugin)b=true}else try{m=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version");
b=true}catch(i){}if(m){k=m.replace(/\D+/g,".").replace(/^\./,"");a=k.split(".");e=parseInt(a[0],10);d=parseInt(a[1],10);c=parseInt(a[2],10)}return{installed:b,raw:m,version:k,major:e,minor:d,revision:c,versionAtLeast:function(n,r,p){n=n||10;r=r||0;p=p||0;var h=[e,d,c],t=arguments,C=Math.min(h.length,t.length),o;for(o=0;o<C;o++)if(h[o]>=t[o]){if(!(o+1<C&&h[o]===t[o]))return true}else return false}}}();$m={};(function(a){function b(g,j,v){if(a.type(v)!=="array"||v===n)v=[v];for(var s=0,x=v.length;s<x;s++)v[s][g]||(v[s][g]=j);a[g]=function(){var u=Array.prototype.slice.call(arguments),O=u.shift();return j.apply(O,u)}}function e(g,
j,v,s){v[g]=j;s.push(g);s.length>1E3&&delete v[s.shift()];return j}function d(g,j){if(g in j)return j[g];return false}function c(){var g=this.valueOf();return g<0?~~g-1:~~g}function m(g,j){return this<j?g>this?g:this:j}function k(g,j){var v=this.valueOf()+"";return Array(g-v.length+1).join(j||"0")+v}if(!window.Element)window.Element={};for(var i=document,n=Array.prototype,r=!window.HTMLElement?{}:HTMLElement.prototype,p=!window.NodeList?{}:NodeList.prototype,h=Number.prototype,t=String.prototype,
C=window,o={},w=[],A="Boolean Number String Function Array Date RegExp Object".split(" "),z=[],F=0,q=A.length;F<q;F++)z["[object "+A[F]+"]"]=A[F].toLowerCase();a.type=function(g){return g==null?String(g):z[Object.prototype.toString.call(g)]||"object"};a.isArray=function(g){return a.type(g)==="array"};a.emptyFunction=function(){};a.clone=function(g){var j=a.isArray(g)?[]:{};for(F in g)if(F!=="clone")j[F]=g[F]&&a.type(g[F])==="object"?a.clone(g[F]):g[F];return j};a.addEventListener=function(g,j,v){window.addEventListener?
g.addEventListener(j,v,false):g.attachEvent("on"+j,v)};a.removeEventListener=function(g,j,v){window.removeEventListener?g.removeEventListener(j,v,false):g.detachEvent("on"+j,v)};a.findKey=function(g,j){for(var v in j)if(j.hasOwnProperty(v)&&j[v]===g)return v;return false};a.fibonacci=function(g){var j=Math.sqrt(5);return(1/j*Math.pow((1+j)/2,g)-1/j*Math.pow((1-j)/2,g)).round()};a.withinElement=function(g,j){var v=j.relatedTarget;try{if(v&&v!==document&&!v.parentNode)return true;for(;v&&v!==g;)v=v.parentNode;
if(v!==g)return false}catch(s){}return true};b("abs",function(){var g=this.valueOf();return g<0?-g:g},h);b("addClass",function(g){if(this.length&&this.forEach)this.forEach(function(j){a.addClass(j,g)});else if(!a.hasClass(this,g))this.className=this.className.split(" ").concat(g).unique().join(" ").trim();return this},[r,p]);b("attr",function(g,j){if(a.type(g)==="object"){for(prop in g)g[prop]===null||g[prop]===""?this.removeAttribute(prop):this.setAttribute(prop,g[prop]);return this}if(j===void 0)return this.getAttribute(g);
j===null||j===""?this.removeAttribute(g):this.setAttribute(g,j);return this},r);b("ceil",function(){return c.call(this.valueOf()+1)},h);b("clamp",function(g,j,v){function s(){if(checkCount>200)return false;if(x.innerText!=g||x[property]==0){checkCount++;setTimeout(s,1)}else a:if(!(x[property]<=v)){for(;x[property]>v;){x.innerText=x.innerText.substr(0,x.innerText.length-1);if(x.innerText==""||x.innerText.length==0)break a}x.innerText=x.innerText.substr(0,x.innerText.length-3)+"..."}}var x=this;x.innerHTML=
g;property=j=="height"?"clientHeight":"clientWidth";checkCount=0;s();return x},r);b("clear",function(){this.childNodes.forEach(function(g){g.remove&&g.remove()});return this},r);b("computeStyle",function(g){if(!C.getComputedStyle)C.getComputedStyle=function(j){this.el=j;this.getPropertyValue=function(v){var s=/(\-([a-z]){1})/g;if(v=="float")v="styleFloat";if(s.test(v))v=v.replace(s,function(x,u,O){return O.toUpperCase()});return j.currentStyle&&j.currentStyle[v]?j.currentStyle[v]:null};return this};
return C.getComputedStyle(this,null).getPropertyValue(g)},r);b("contains",function(g){return this.indexOf(g)!==-1},[n,t]);b("css",function(g,j){if(a.type(g)==="object"){for(prop in g)this.style[prop]=g[prop];return this}if(j===void 0)return this.style[g];this.style[g]=j===null||j===""?"":j;return this},r);b("floor",c,h);b("forEach",function(g,j){if(a.type(g)==="function")for(var v=this.length>>>0,s=0;s<v;s++)s in this&&g.call(j,this[s],s,this)},[n,p]);b("getElementsByClassName",function(g){var j=
[],v=0,s,x,u;if(document.evaluate){s=".//*[contains(concat(' ', @class, ' '), ' "+g+" ')]";for(x=document.evaluate(s,this,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);u=x.snapshotItem(v++);)j[j.length]=u}else{s=RegExp("(^|\\s)"+g+"(\\s|$)");x=this.getElementsByTagName("*");v=0;for(var O=x.length;v<O;v++){u=x[v];if(u.className===g||s.test(u.className))j[j.length]=u}}return j},i);b("hasAncestor",function(g){if(g===this)return true;for(var j=this.parentNode;j;){if(j===g)return true;j=j.parentNode}return false},
r);b("hasClass",function(g){if(g.splice){for(var j=this.className.split(" "),v=0,s=j.length;v<s;v++)if(g.contains(j[v]))return true;return false}return RegExp("(?:^|\\s+)"+g+"(?:\\s+|$)").test(this.className)},r);b("hex2rgb",function(){if(cached=d(this,o))return cached;var g=parseInt(this.replace("#",""),16);g=[(g&16711680)>>16,(g&65280)>>8,g&255];return e(this,"rgb("+g.join(",")+")",o,w)},t);b("html",function(g){if(g===void 0)return this.innerHTML;this.innerHTML=g;return this},r);b("indexOf",function(g){for(var j=
0,v=this.length;j<v;j++)if(this[j]==g)return j;return-1},n);b("innerHeight",function(){for(var g=0,j,v=0,s=this.childNodes.length;v<s;v++){j=this.childNodes[v];if(j.style)g+=j.clientHeight+(a.toInt(a.computeStyle(j,"margin-top"),10)||0)+(a.toInt(a.computeStyle(j,"margin-bottom",10))||0)}return g},r);b("limit",m,h);b("map",function(g,j){for(var v=this.length>>>0,s=Array(v),x=0;x<v;x++)if(x in this)s[x]=g.call(j,this[x],x,this);return s},n);b("max",function(){return Math.max.apply(Math,this)},n);b("min",
function(){return Math.min.apply(Math,this)},n);b("pad",k,[t,h]);b("position",function(){var g=0,j=0,v=this;if(v.offsetParent){do{g+=v.offsetLeft;j+=v.offsetTop}while(v=v.offsetParent)}return{x:g,y:j}},r);b("prependChild",function(g){return this.insertBefore(g,this.firstChild)},r);b("q",function(g){return this.querySelector(g)},[i,r]);b("qa",function(g){return this.querySelectorAll(g)},[i,r]);b("remove",function(){if(this.length)this.forEach(function(g){g.parentNode&&g.parentNode.removeChild(g)});
else this.parentNode&&this.parentNode.removeChild(this)},[r,p]);b("removeClass",function(g){if(this.length&&this.forEach)this.forEach(function(j){a.removeClass(j,g)});else if(a.hasClass(this,g))this.className=this.className.replace(RegExp("(?:^|\\s+)"+g+"(?:\\s+|$)","g")," ").trim();return this},[r,p]);b("rgb2hex",function(){if(cached=d(this,o))return cached;var g=this.match(/\d{1,3}/g).slice(0,3);g=g.map(function(j){return k.call(m.call(parseInt(j,10),0,255).toString(16),2)});return e(this,g.join(""),
o,w)},t);b("round",function(){return c.call(this.valueOf()+0.5)},h);b("toInt",function(g){return parseInt(this.valueOf?this.valueOf():this,g||10)},[t,h]);b("toFloat",function(g){return parseFloat(this.valueOf(),g||10)},[t,h]);b("trim",function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},t);b("ucfirst",function(){return this.charAt(0).toUpperCase()+this.slice(1)},t);b("unique",function(){var g=[],j=0,v=this.length;a:for(;j<v;j++){for(var s=0,x=g.length;s<x;s++)if(g[s]===this[j])continue a;
g[g.length]=this[j]}return g},n);b("wrap",function(g,j){var v=this,s=a.addClass(document.createElement(g),j||"");v.length||(v=Array(this));v.forEach(function(x,u){u===0&&x.parentNode.replaceChild(s,x);s.appendChild(x)});return s},[r,p])})($m);EventManager=function(){function a(d){if(!b[d]){var c=document.createElement("a");c.id="Event:"+d;e.appendChild(c);b[d]=c}return b[d]}var b={},e=document.createElement("div");e.id="events"+(new Date).getTime();document.body.appendChild(e);this.bind=function(d,c){var m=a(d);window.addEventListener?m.addEventListener("click",c,false):m.attachEvent("onclick",c);return this};this.unbind=function(d,c){var m=a(d);window.removeEventListener?
m.removeEventListener("click",c,false):m.detachEvent("onclick",c);return this};this.fire=function(d,c){var m,k=a(d);if(document.createEvent){m=document.createEvent("HTMLEvents");m.initEvent("click",false,true);m.name=d;m.data=c;return k.dispatchEvent(m)}else{try{c=JSON.stringify(c)}catch(i){}m=document.createEventObject();m.name=d;m.data=c;return k.fireEvent("onclick",m)}}};window.EventManager=EventManager;var vb="ming",wb="moogaloop",kc="noplayer",Ac="nomobile",db="mobile",jc="touch",Mb="desktop",Nc="html",Mc="flash",ja="noplayer",ya="hd",Ta="sd",Pa="mobile",Pc=[ya,Ta,Pa],ld="pl_volume",Jc="hd_preference",
md="scaling_preference",Hb="onwebkittransitionend"in window?"webkitTransitionEnd":"transitionEnd",Gb=8,nd=250,Kc=140,Lc=200,od=265;ja=200;var Ub=7,mc=1.5,Qc=2E3,Oc=1500,Ma=1,Qa=2,Kb=3,ka=4,sa=5,La=6,$b=7,yb=8,gb=9,xc=10,zc=11,wc=12,yc=13,nc=14,bc=15,mb=16,Rc=17,qc=18,rc=19,cc=20,Sc=21,sc=22,tc=23,ia=24,wa=25,fb=26,Za=27,Zb=28,ma=29,Lb=30,Tc=31,Ga=32,nb=33,ob=34,Ra=35,vc=36,jb="loadProgress",kb="playProgress",ib="play",hb="pause",xb="finish",lb="seek",tb="ready",jd="error",lc="addEventListener()",
Bc="removeEventListener()",qb="play()",pb="pause()",rb="seekTo()",sb="unload()",Ua="setColor()",bb="setLoop()",cb="setVolume()",Ia="getDuration()",Ha="getCurrentTime()",Va="getVolume()",Cc="getColor()",zb="getLoop()",Dc="getVideoUrl()",Ec="getVideoEmbedCode()",$a="getVideoWidth()",ab="getVideoHeight()",Na="paused()",Aa="a",pd="bb",ac="aa",qd="ca",Sb="aq",hc="as",N="bn",Z="aj",pc="bi",Yb="ac",fd="h",gd="l",hd="m",id="n";ja="ag";ja="f";ja="c";ja="g";var Uc="ay",rd="o";ja="am";ja="cm";var Eb="x",Fb=
"w",Ib="z",Ya="q",Oa="k",Tb="v",Sa="j",gc="bk",ic="bd",ad="cq",bd="y",fc="cc",cd="at",dd="bh",eb="cb",ec="cz",sd="az",xa="b",Fc="h",Gc="ao";ja="cd";var Vc="i",td="bp",ud="ba",Vb="al";ja="da";var vd="ae",wd="m";ja="au";Ya="q";var xd="an",yd="ak",Ba="e",qa="d",Wb="ah",Xb="ck",oc="bv",Wc="bl",zd="p",Ad="videos",Bd="av",Ic="be",Wa="s",Cd="bo",Xc="bm",la="l",Hc="r",Dd="br",Yc="ai",Ed="ce",Zc="bx";ja="j";var ed="bu",kd="cj";if(window.$){$=$;$$=$$}var y=MingClass.extend({init:function(a,b,e){function d(){if(!ICanHas.video)return false;if(n.ie)return false;if(n.safari&&n.safari<4)return false;for(var r in c.config.video.files)if(ICanHas.video[r])return true;return false}var c=this,m=b.assets,k,i;k=navigator;
i=k.userAgent.toLowerCase();k=k.platform.toLowerCase();var n={webkit:"webkitAppearance"in document.documentElement.style?parseFloat(i.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,firefox:/firefox/.test(i)?i.replace(/^.*firefox\/(\d+\.\d+\.\d+).*$/,"$1"):false,safari:/safari/.test(i)?parseFloat(i.replace(/^.*version\/(\d+)\.(\d+)?.*$/,"$1.$2")):false,ie:navigator.appName=="Microsoft Internet Explorer",opera:window.opera&&{}.toString.call(window.opera)=="[object Opera]"||false,silk:/silk/.test(i),
win:k?/win/.test(k):/win/.test(i),mac:/mac/.test(k||i)?parseFloat(i.replace(/^.* ((\d+)(_|\.)?(\d+)?).*$/,"$2.$4")):false,linux:k?/linux/.test(k):/linux/.test(i),android:/android/.test(i)?parseFloat(i.replace(/^.* android (\d+)\.(\d+).*$/,"$1.$2")):false,playBook:/playbook/.test(i)};c.element=a;c.config=b.config;c.playerType=null;c.playerMode=null;c.playableFiles=null;c.thumbs=b.thumbs;c.api=false;c.ua=n;c.uniqueId=b.uniqueId;y.cookieDomain=c.config.request.cookie_domain;c.playerMode=function(){if(c.playerMode)return c.playerMode;
var r=Mb;if(Math.min(screen.width,screen.height)<=480||y.getCookie("test_mobiloop")=="1"||n.android&&n.android<3||n.silk)r=db;else if(ICanHas.orientation)r=jc;return r}();c.playableFiles=function(){var r=c.config.video,p=r.files,h={hd:false,sd:false,mobile:false};for(var t in p)if(ICanHas.video[t]){if(c.playerMode===db){if($m.contains(p[t],Pa))h.mobile=t;else if(y.mobileCanPlaySD()&&$m.contains(p[t],Ta))h.sd=t;break}for(var C=0,o=p[t].length;C<o;C++){var w=p[t][C];if(w===ya&&!h.hd)h.hd=t;else if(w===
Ta&&!h.sd)h.sd=t;else if(w===Pa&&!h.mobile)h.mobile=t}}if(!c.config.security.hd_embed)h.hd=false;if(c.playerMode===jc)if(r.height*r.width>921600){P.info("Can't play HD version on iPad: too big");h.hd=false;c.config.video.hd=false}return h}();c.playerType=function(r){var p=kc;switch(r){case Mc:p=FlashDetect.installed&&FlashDetect.major>=10?wb:d()?vb:p;break;case Nc:p=c.playerMode!==db&&!c.playableFiles.hd&&!c.playableFiles.sd?FlashDetect.installed&&FlashDetect.major>=10?wb:c.playableFiles.mobile?vb:
p:d()?vb:FlashDetect.installed&&FlashDetect.major>=10?wb:p;break}if(c.playerMode===db&&!c.playableFiles.mobile){var h;a:{r=c.config.video.files;for(h in r)if($m.contains(r[h],Pa)){h=true;break a}h=false}p=h?kc:y.mobileCanPlaySD()&&c.playableFiles.sd?vb:Ac}return p}(c.config.user.preferences.html===1?Nc:Mc);i=c.playerType===wb?m.moogaloop:m.ming[c.playerMode].js;k=c.playerType===wb?[]:m.ming[c.playerMode].css;P.info("Player Type:",c.playerType);P.info("Player Mode:",c.playerMode,Math.min(screen.width,
screen.height));P.info("Screen Size:",screen.width,"x",screen.height);P.info("Can play:",ICanHas.video.h264?"h264":"");P.info("Playable Files:",c.playableFiles.hd?"hd":"",c.playableFiles.sd?"sd":"",c.playableFiles.mobile?"mobile":"");c.setThumb();$m.forEach(k,function(r){var p=document.createElement("link");$m.attr(p,{rel:"stylesheet",href:m.css_path+r+(!m.cache?(r.indexOf("?")>-1?"&":"?")+(new Date).getTime():"")});document.getElementsByTagName("head")[0].appendChild(p)});k=$LAB.setOptions({AlwaysPreserveOrder:true,
BasePath:m.js_path});m.cache||(i=$m.map(i,function(r){return r+(r.indexOf("?")>-1?"&":"?")+(new Date).getTime()}));k.script(i).wait(function(){c.api=new y.API(c.config);playerElement=a.getElementsByTagName("div")[0];$m.addClass(playerElement,c.playerType===wb?ed:Aa);c.player=new (c.playerType===wb?y.Moogaloop:c.playerType===kc||c.playerType===Ac?y.NoPlayer:y.Ming)(playerElement,b.options[c.playerType===Ac?kc:c.playerType],c);e&&e.call(c)});P.info("Reticulating splines...")},getConfig:function(){return this.config},
setConfig:function(a){this.config=a},setThumb:function(){var a=this.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].getElementsByTagName("div")[0],b=a.getAttribute("data-thumb"),e=this.thumbs[640],d=this.element.clientWidth;if(d>=900)e=this.thumbs[960];if(d>=1E3)e=this.thumbs[1280];this.config.video.thumbnail=e;if(b!==e&&this.playerType===vb){if(this.config.embed.autoplay===0||this.playerMode!==Mb)a.style.backgroundImage="url("+e+")";a.setAttribute("data-thumb",e)}}});y.setCookie=
function(a,b,e,d){var c=document.getElementById(fd),m="";e=e||87600;d=d||y.cookieDomain;if(c){document.getElementById(gd).value=a;document.getElementById(hd).value=b;document.getElementById(id).value=e;window.addEventListener("message",function(k){k.data=="refresh"&&y.xhrRefresh()},false);c.submit()}else{if(e){c=new Date;c.setTime(c.getTime()+e*60*60*1E3);m="; expires="+c.toGMTString()}d="; domain="+d;document.cookie=a+"="+b+m+"; path=/"+d}};y.getCookie=function(a){var b=document.cookie;a=a+"=";var e;
if(b&&b!==""){b=document.cookie.split(";");for(var d=0,c=b.length;d<c;d++){e=b[d].trim();if(e.indexOf(a)===0)return unescape(e.substr(a.length))}}return null};y.eatCookie=function(a){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;"};y.xhrRefresh=function(){var a;(new XHR).get(document.location.href,function(b){a=document.getElementsByTagName("body")[0];a.innerHTML=b;$m.forEach(a.getElementsByTagName("script"),function(e){e.innerHTML&&(new Function(e.innerHTML)).call(window)})})};y.checkRatio=
function(a,b,e){if(!b)return false;e=e.video.width/e.video.height;var d=a.clientWidth/a.clientHeight;if(Math.abs(e-d)<0.02){$m.removeClass(a,Eb);$m.removeClass(a,Fb)}else if(d>e){$m.removeClass(a,Fb);$m.addClass(a,Eb)}else{$m.removeClass(a,Eb);$m.addClass(a,Fb)}$m.removeClass(b,N)};y.mobileCanPlaySD=function(){return window.devicePixelRatio>=2};if(!y.init)y.init={queue:[],loaderAdded:false,loader:function(){if(y.init.queue.length>0)if(screen.width===0||screen.height===0){P.warn("Screen size is 0, waiting 250ms to try again");
setTimeout(y.init.loader,250)}else y.init.queue.shift()()}};window.Player=y;y.Moogaloop=MingClass.extend({init:function(a,b,e){function d(l,E,I){P.info("url: ",l);var W={server:z.request.vimeo_url,player_server:z.request.player_url,cdn_server:z.request.cdn_url,embed_location:z.request.referrer,
force_embed:b.force_embed,force_info:b.force_info,moogaloop_type:ba,js_api:1,js_getConfig:b.ref_id+".getConfig",js_setConfig:b.ref_id+".setConfig",clip_id:z.video.id,fullscreen:1},ca={id:E.id,name:E.id,styleclass:Z};if(F.ie)l+=(l.indexOf("?")>0?"&":"?")+"time="+(new Date).getTime();for(var H in I)if(I.hasOwnProperty(H))W[H]=I[H];swfobject.embedSWF(l,E.id,"100%","100%","10.0.0","/assets/flash/expressInstall.swf",W,{allowscriptaccess:"always",allowfullscreen:"true",scalemode:"noscale",quality:"high",
wmode:"opaque",bgcolor:"#000000"},ca,function(L){if(F.safari&&F.win){P.debug("Removing invisible from swfobject");$m.removeClass(L.ref,Z)}F.android&&F.android<2.2&&$m.removeClass(L.ref,Z);setTimeout(function(){if($m.hasClass(E,Wa))return l.indexOf(v)===0?A.loverLoaded():A.moogaloopLoaded();else if(B&&$m.hasClass(B,Z))return l.indexOf(v)===0?A.loverThumbLoaded(true):A.moogaloopThumbLoaded(true)},2E3)})}function c(){setTimeout(function(){j.fire(tb)},0)}function m(){var l="cover"+e.uniqueId;O=document.getElementById(l);
if(!O){O=document.createElement("div");O.setAttribute("id",l);$m.addClass(O,kd);a.appendChild(O)}d(v,O,{js_onLoad:b.ref_id+".player.loverLoaded",js_onThumbLoaded:b.ref_id+".player.loverThumbLoaded",js_setupMoog:b.ref_id+".player.loverInitiated"});z.embed.autoplay=1}function k(){var l="player"+e.uniqueId;fa=document.getElementById(l);if(!fa){fa=document.createElement("div");fa.setAttribute("id",l);a.appendChild(fa)}d(s,fa,{js_onLoad:b.ref_id+".player.moogaloopLoaded",js_onThumbLoaded:b.ref_id+".player.moogaloopThumbLoaded"})}
function i(){B&&B.api_pause()}function n(){if(X)A.loverInitiated();else B&&B.api_play()}function r(l){B&&B.api_seekTo(l.data)}function p(){B&&B.api_unload()}function h(l){z.embed.color=l.data;B&&B.api_changeColor(l.data)}function t(l){z.embed.loop=!!l.data;B&&B.api_setLoop(z.embed.loop)}function C(l){if(B){l=l.data;if(z.embed.api.version<2)l*=100;B.api_setVolume(l)}}function o(l){var E=false;switch(l.name){case Ha:E=B?B.api_getCurrentTime().toFixed(3):0;break;case Ia:E=B?B.api_getDuration().toFixed(3):
z.video.duration;break;case Va:E=B?B.api_getVolume().toFixed(3):z.user.preferences.volume/100;break;case Na:E=B?!!B.api_paused():true;break}g.sendBack(l.name,E)}function w(l){try{l.data=JSON.parse(l.data)}catch(E){}var I=z.embed.api.version<2?l.data:"on"+l.data.ucfirst();if(B){B.api_addEventListener(l.data,b.ref_id+".player."+I);P.debug("Adding listener",l.data,b.ref_id+".player."+I)}else{P.debug("Queuing listener",l.data,b.ref_id+".player."+I);x.push(["addEventListener",l.data,b.ref_id+".player."+
I])}}P.info("Options:",b);P.info("Config:",e.config);var A=this,z=e.config,F=e.ua,q=e.playerMode===jc?Mb:e.playerMode,g=e.api,j=g.events,v=b.swfs.cover[q],s=b.swfs.player[q],x=[],u,O,fa,X,B,ba=(q===db?"mobi":"mooga")+"loop"+(z.embed.on_site?"_local":"");A.config=z;P.info("swfUrl: ",s,"playerMode: ",q);z.embed.api.on&&j.bind(pb,i).bind(qb,n).bind(rb,r).bind(sb,p).bind(Ua,h).bind(bb,t).bind(cb,C).bind(Ha,o).bind(Ia,o).bind(Va,o).bind(Na,o).bind(lc,w);A.onProgress=function(l){j.fire(kb,l.toFloat().toFixed(3))};
A.onPlayProgress=function(l){j.fire(kb,{seconds:l.seconds.toFloat().toFixed(3),percent:l.percent.toFloat().toFixed(3),duration:l.duration.toFloat().toFixed(3)})};A.onLoading=function(l){j.fire(jb,{bytes:l.bytesLoaded.toInt(),percent:l.percent.toFloat().toFixed(3)})};A.onLoadProgress=function(l){j.fire(jb,{percent:l.percent.toFloat().toFixed(3),bytesLoaded:l.bytesLoaded.toInt(),bytesTotal:l.bytesTotal.toInt(),duration:l.duration.toFloat().toFixed(3)})};A.onPlay=function(){j.fire(ib)};A.onPause=function(){j.fire(hb)};
A.onSeek=function(l){j.fire(lb,z.embed.api.version<2?l.toFloat().toFixed(3):{seconds:l.seconds.toFloat().toFixed(3),percent:l.percent.toFloat().toFixed(3),duration:l.duration.toFloat().toFixed(3)})};A.onFinish=function(){j.fire(xb)};A.loverLoaded=function(){P.info("Lover loaded");$m.removeClass(a,Wa);X=document.getElementById("cover"+e.uniqueId);c();setTimeout(function(){if($m.hasClass(X,Z)){P.debug("Removing invisible from loaded timeout");A.loverThumbLoaded(true)}},Oc)};A.loverThumbLoaded=function(l){P.info("Lover thumbnail loaded?",
l);if(!X){X=document.getElementById("cover"+e.uniqueId);c()}$m.removeClass(X,Z);$m.addClass(u,N)};A.loverInitiated=function(){P.debug("Lover play button clicked");k()};A.moogaloopLoaded=function(){$m.removeClass(a,Wa);B=document.getElementById(b.ref_id);if(X){$m.remove(X);$m.removeClass(B,Z);X=null}else c();if(z.embed.api.on&&x.length>0)for(;x.length>0;){var l=x.shift(),E="api_"+l.shift();P.debug("Calling",E,"from queue",l);(new Function("this."+E+'("'+l.join('","')+'")')).call(B)}P.info("Welcome to Moogaloop!");
setTimeout(function(){if($m.hasClass(B,Z)){P.debug("Removing invisible from loaded timeout");A.moogaloopThumbLoaded(true)}},Oc)};A.moogaloopThumbLoaded=function(l){P.info("Moog thumbnail loaded?",l);B||(B=document.getElementById(b.ref_id));$m.removeClass(B,Z);$m.addClass(u,N)};A.destroy=function(){z.embed.api.on&&j.unbind(pb,i).unbind(qb,n).unbind(rb,r).unbind(sb,p).unbind(Ua,h).unbind(bb,t).unbind(cb,C).unbind(Ha,o).unbind(Ia,o).unbind(Va,o)};for(u=a.getElementsByTagName("div")[0];u.nextSibling;)a.removeChild(u.nextSibling);
!(z.embed.on_site||z.embed.autoplay||z.embed.api.on||F.opera||q===db||z.security.privacy==="password")?m():k();a.parentNode.api_seekTo=function(l){r({data:l})}}});y.NoPlayer=MingClass.extend({init:function(a,b,e){function d(){var o=Math.round(a.clientWidth/2-n.clientWidth/2),w=Math.round(a.clientHeight/2-n.clientHeight/2);n.style.left=o+"px";n.style.top=w+"px"}function c(){function o(){if(w.styleSheet.rules.length){w.styleSheet.cssText+=C;return k()}setTimeout(o,100)}var w;w=document.createElement("link");w.rel="stylesheet";w.href=t;document.getElementsByTagName("head")[0].appendChild(w);
o()}function m(){var o=document.createElement("link");o.rel="stylesheet";o.href=t;o.addEventListener("load",k,false);document.getElementsByTagName("head")[0].appendChild(o)}function k(){var o=["Uh Oh!","D&rsquo;Oh!","Aw fiddlesticks!","Jeepers!","Oh dear!","Ouch!","Zoinks!","Awww, snap!","Blast!","Curses!","ACK!","Aw shucks.","Major bummer.","Dag-nab-it!","Aargh!","Boo-hoo!","&iexcl;Ay caramba!"];n.innerHTML='<div class="'+qa+' noplayer"><h1>'+o[Math.floor(Math.random()*o.length)]+'</h1><p>This video can&rsquo;t be played with your current setup. <br/>Please switch to a browser that provides native H.264 support</a> or install <a href="http://adobe.com/go/getflashplayer" target="_blank">Adobe Flash Player</a>.</p></div>';
setTimeout(function(){i.show()},100)}var i=this,n=a.children[3],r=a.children[4],p,h=new XHR,t=b.css_path,C="."+Aa+"{background-color:black!important}."+Aa+" ."+Ba+"{text-align:center;font-size:1.5em;width:90%}a {color: #00adef}a:hover{color: #F75342}."+Aa+" ."+Ba+" ."+qa+".noplayer p{line-height: 1.1em}";i.element=a;i.show=function(){var o=n.getElementsByTagName("div")[0];$m.removeClass(n,N);$m.removeClass(r,N);d();setTimeout(function(){$m.addClass(o,Xb);$m.addClass(a,qa)},10)};for(window.addEventListener?
window.addEventListener("resize",d,false):window.attachEvent("onresize",d);n.previousSibling;){if(n.previousSibling.className===ac)break;a.removeChild(n.previousSibling)}$m.removeClass(a,Wa);(function(){if(e.ua.ie&&e.config.embed.on_site)c();else e.ua.opera&&e.config.embed.on_site?m():h.get(t,function(o){p=o+C;o=document.createElement("style");if(e.ua.ie){o.type="text/css";o.styleSheet.cssText=p}else o.appendChild(document.createTextNode(p));document.getElementsByTagName("head")[0].appendChild(o);
k()})})()}});
y.API=MingClass.extend({init:function(a){function b(q,g){q=q||{};g=g||false;if(h)q.player_id=h;q.data==="undefined"&&delete q.data;if(p>1&&window.JSON)return g?JSON.stringify(q):q;var j="method="+encodeURIComponent(q.method||q.event)+"&params=",v=[];if(q.value)v.push(encodeURIComponent(q.value));else if($m.type(q.data)==="object")for(var s in q.data)v.push(encodeURIComponent(q.data[s]));else q.data&&q.data!=="undefined"&&v.push(encodeURIComponent(q.data));q.player_id&&v.push(q.player_id);return j+
v.join(",")}function e(q){if(!q||q==="")return false;if(q.method)return q;try{return JSON.parse(q)}catch(g){var j={},v,s,x;q.split("&").forEach(function(u){v=u.split("=");s=decodeURIComponent(v[0]);x=decodeURIComponent(v[1]);if(s!=="id"){if(s==="params")s="value";if(x.contains(","))x=x.split(",")[0];j[s]=x}});return j}}function d(q){if(window.parent!==window){if($m.type(q)!=="string")q=b(q,true);window.parent.postMessage(q,n)}if(t){if($m.type(q)!=="string")q=b(q,false);t(q)}P.debug("<- Sent",q)}function c(q){var g=
q.name,j=q.data;try{j=JSON.parse(q.data)}catch(v){}if(p<2){g=$m.findKey(g,o);switch(g){case "onSeek":case "onProgress":j.percent&&delete j.percent;case "onLoading":j.duration&&delete j.duration;break}}if(r[g]===true||q.name===tb)d({event:g,data:j})}function m(q){var g=e(q.data);q=g.method;var j=g.value;if(!g||!q)return false;if(q.substr(0,4)==="api_"){q=q.substr(4);q=z[q]||q;q=q.replace("()","")}g=q+"()";if(g===lc){r[j]=true;F.fire(lc,j);P.debug("-> Now listening for",j)}else if(g===Bc){r[j]=false;
F.fire(Bc,j);P.debug("-> Stop listening for",j)}else if(w.contains(g)){P.debug("-> Received",q,j);switch(g){case cb:j=j.toFloat();if(p<2)j/=100;break;case bb:j=!!j.toInt();break;case Ua:if(j.search(/^[A-Fa-f\d]+$/g)===-1||j.length!==3&&j.length!==6){P.warn("Invalid color value");return}break}F.fire(g,j)}else if(A.contains(g)){P.debug("-> Received request for",q,j);F.fire(g,j)}}function k(q){var g=false;switch(q.name){case Cc:g=a.embed.color;break;case Dc:g=a.video.url;break;case Ec:g=a.video.embed_code;
break}i.sendBack(q.name,g)}if(!a.embed.api.on){this.events=new EventManager;return false}if(!window.postMessage||!window.parent.postMessage||window.location===window.parent.location&&!a.embed.on_site){P.info("Player API unavailable because this browser does not support postMessage or is not loaded in an iframe.");a.embed.api.on=0;this.events=new EventManager;return false}var i=this,n=decodeURIComponent(a.request.referrer),r={},p=a.embed.api.version,h=a.embed.api.player_id,t=null,C=[jb,kb,ib,hb,xb,
lb,tb,jd],o={onFinish:xb,onLoading:jb,onLoad:tb,onProgress:kb,onPlay:ib,onPause:hb,onSeek:lb},w=[lc,Bc,qb,pb,Ua,rb,bb,cb,sb],A=[Ia,Ha,Va,Cc,zb,Dc,Ec,$a,ab,Na],z={changeColor:Ua},F=new EventManager;i.events=F;i.setCallback=function(q){if(a.embed.on_site)t=q};i.send=function(q){a.embed.on_site&&m({data:q})};i.sendBack=function(q,g){q=q.replace("()","");if(p<2)q="api_"+q;d({method:q,value:g})};i.sendError=function(){P.error("API error")};i.destroy=function(){window.removeEventListener?window.removeEventListener("message",
m,false):window.detachEvent("onmessage",m)};C.forEach(function(q){F.bind(q,c)});F.bind(Cc,k).bind(Dc,k).bind(Ec,k);window.addEventListener?window.addEventListener("message",m,false):window.attachEvent("onmessage",m)}});y.Stats=MingClass.extend({init:function(a,b){var e=b.playerType.ucfirst()+" "+b.playerMode.ucfirst(),d=window._gaq||[],c=null,m=b.playerType===vb?"local":"",k=(b.playerType===vb?"html5_"+b.playerMode:b.playerMode===db?"mobiloop":"moogaloop")+"_"+(a.embed.on_site?m:"embed");d.push(["pt._setAccount",a.analytics.ga_account]);this.clientLog=function(){var i=new XHR,n="//"+a.request.player_url+"/log/client",
r=["request_signature="+a.request.signature,"video="+ICanHas.video,"h264="+ICanHas.video.h264,"vp8="+ICanHas.video.vp8,"vp6="+ICanHas.video.vp6,"flash="+FlashDetect.version,"touch="+ICanHas.touch,"screen_width="+screen.width,"screen_height="+screen.height].join("&");i.post(n,r,function(){})};this.googleLog=function(i,n){n=parseInt(Number(n),10);if(isNaN(n))n=undefined;P.log("google analytics:",e,i,a.video.id,n);d.push(["pt._trackEvent",e,i,a.video.id+"",n])};this.partialPlayLog=function(i,n,r){i=
parseInt(i,10);if(i>c){var p=new XHR,h="//"+a.request.player_url+"/log/partial";n="request_signature="+a.request.signature+"&seconds="+i+"&quality="+n;P.log("vimeo stats:",i,"seconds played");r?p.post(h,n):p.post(h,n,function(){});c=i}};this.vimeoLog=function(i,n,r,p){var h=new XHR,t="//"+a.request.player_url+"/log/"+i+"/"+a.video.id,C="?embed_location="+a.request.referrer+"&request_signature="+a.request.signature;C+="&type="+k;if(n)C+="&quality="+n;if(r)C+="&percent="+r;P.log("vimeo stats:",i,n,
r);p?h.post(t,C):h.post(t,C,function(){})}}});if(!y.UI)y.UI={};y.UI.CanvasElement=
MingClass.extend({init:function(a){if(!a)return false;this.element=a;this.origWidth=a.getAttribute("width");this.origHeight=a.getAttribute("height");this.width=this.origWidth*Gb;this.height=this.origHeight*Gb},draw:function(a,b,e,d,c){this.setData(a).setTranslation(b).setScale(e).setColor(d).setShadow(c);this.refresh();return this},setData:function(a){this.data=a;return this},setTranslation:function(a){this.translation=a;return this},setScale:function(a){this.scale=a;return this},setColor:function(a){this.color=
a;return this},setShadow:function(a){this.shadow=a;return this},refresh:function(){var a=this.data,b=this.shadow;try{if(!a||!this.element.getContext)return false}catch(e){return false}var d=this.scale||1,c=this.translation?$m.clone(this.translation):{x:0,y:0},m=this.color||"ffffff";this.element.attr({width:this.width,height:this.height});d*=Gb;c.x*=Gb;c.y*=Gb;var k=this.element.getContext("2d"),i;k.clearRect(0,0,this.width,this.height);k.save();k.translate(c.x,c.y);k.scale(d,d);k.fillStyle=k.strokeStyle=
"#"+m;if(b){k.shadowOffsetX=k.shadowOffsetY=0;k.shadowBlur=10*Gb;k.shadowColor="rgba(0,0,0,0.5)"}d=0;for(c=a.length;d<c;d++)for(i in a[d])if(b=a[d][i])if($m.isArray(b))k[i].apply(k,b);else k[i]=b;else k[i].apply(k);k.restore();return this}});